{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default function searchImages(query) {\n    const URL = 'https://pixabay.com/api/';\n    const API_KEY = '45140381-2d1d7d148fe8b2b4910dcca17';\n  \n    return fetch(\n      `${URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`\n    )\n      .then(response => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        return response.json();\n      })\n      .catch(error => {\n        iziToast.error({\n          position: 'topRight',\n          message: `${error}`,\n        });\n      });\n  }","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function createImages(data) {\n  let gallery = new SimpleLightbox('.gallery a', {\n    overlay: false,\n    overlayOpacity: 0.7,\n    nav: true,\n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 350,\n  });\n  const container = document.querySelector('.gallery');\n  let images = data.hits\n    .map(\n      hit =>\n        `<div class=\"gallery-list\">\n      <a href=\"${hit.largeImageURL}\">\n      <img class=\"image\" src=\"${hit.webformatURL}\" alt=\"${hit.tags}\" />\n      </a>\n      <div class =\"gallery-list-text\">\n      <div class=\"gallery-list-stat\">\n      <h5>likes</h5>\n      <p>${hit.likes}</p></div>\n      <div class=\"gallery-list-stat\">\n      <h5>views</h5>\n      <p>${hit.views}</p></div>\n      <div class=\"gallery-list-stat\">\n      <h5>comments</h5>\n      <p>${hit.comments}</p></div>\n      <div class=\"gallery-list-stat\">\n      <h5>downloads</h5>\n      <p>${hit.downloads}</p></div></div></div>`\n    )\n    .join('');\n  container.insertAdjacentHTML('afterbegin', images);\n  gallery.refresh();\n}\n\nexport function clearImages() {\n  const container = document.querySelector('.gallery');\n  container.innerHTML = '';\n}","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport searchImages from './js/pixabay-api';\nimport { createImages, clearImages } from './js/render-functions';\n\nconst form = document.querySelector('.gallery-form');\nconst input = document.querySelector('.gallery-input');\nconst loader = document.querySelector('.loader');\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  clearImages();\n  loader.classList.remove('hiden');\n  event.preventDefault();\n  let searchWord = input.value.trim();\n  searchImages(`${searchWord}`)\n    .then(data => {\n      if (data.total === 0) {\n        iziToast.error({\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n      if (searchWord === '') {\n        iziToast.error({\n          position: 'topRight',\n          message: 'Please fill the input',\n        });\n      } else {\n        createImages(data);\n      }\n    })\n    .catch(error => {\n      iziToast.error({\n        position: 'topRight',\n        message:\n          'Виникла помилка під час отримання зображень. Будь ласка, спробуйте пізніше.',\n      });\n    })\n    .finally(() => {\n      loader.classList.add('hiden');\n    });\n}"],"names":["searchImages","query","response","error","createImages","data","gallery","SimpleLightbox","container","images","hit","clearImages","form","input","loader","handleSubmit","event","searchWord","iziToast"],"mappings":"6vBAAe,SAASA,EAAaC,EAAO,CAIxC,OAAO,MACL,qEAA2BA,CAAK,0DACjC,EACE,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACxB,CAAO,EACA,MAAMC,GAAS,CACd,SAAS,MAAM,CACb,SAAU,WACV,QAAS,GAAGA,CAAK,EAC3B,CAAS,CACT,CAAO,CACP,CChBO,SAASC,EAAaC,EAAM,CACjC,IAAIC,EAAU,IAAIC,EAAe,aAAc,CAC7C,QAAS,GACT,eAAgB,GAChB,IAAK,GACL,SAAU,GACV,aAAc,MACd,aAAc,GAClB,CAAG,EACD,MAAMC,EAAY,SAAS,cAAc,UAAU,EACnD,IAAIC,EAASJ,EAAK,KACf,IACCK,GACE;AAAA,iBACSA,EAAI,aAAa;AAAA,gCACFA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,WAKvDA,EAAI,KAAK;AAAA;AAAA;AAAA,WAGTA,EAAI,KAAK;AAAA;AAAA;AAAA,WAGTA,EAAI,QAAQ;AAAA;AAAA;AAAA,WAGZA,EAAI,SAAS,wBACnB,EACA,KAAK,EAAE,EACVF,EAAU,mBAAmB,aAAcC,CAAM,EACjDH,EAAQ,QAAO,CACjB,CAEO,SAASK,GAAc,CAC5B,MAAMH,EAAY,SAAS,cAAc,UAAU,EACnDA,EAAU,UAAY,EACxB,CCpCA,MAAMI,EAAO,SAAS,cAAc,eAAe,EAC7CC,EAAQ,SAAS,cAAc,gBAAgB,EAC/CC,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAK,iBAAiB,SAAUG,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BL,IACAG,EAAO,UAAU,OAAO,OAAO,EAC/BE,EAAM,eAAc,EACpB,IAAIC,EAAaJ,EAAM,MAAM,KAAI,EACjCb,EAAa,GAAGiB,CAAU,EAAE,EACzB,KAAKZ,GAAQ,CACRA,EAAK,QAAU,GACjBa,EAAS,MAAM,CACb,SAAU,WACV,QACE,0EACZ,CAAS,EAECD,IAAe,GACjBC,EAAS,MAAM,CACb,SAAU,WACV,QAAS,uBACnB,CAAS,EAEDd,EAAaC,CAAI,CAEzB,CAAK,EACA,MAAMF,GAAS,CACde,EAAS,MAAM,CACb,SAAU,WACV,QACE,6EACV,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbJ,EAAO,UAAU,IAAI,OAAO,CAClC,CAAK,CACL"}